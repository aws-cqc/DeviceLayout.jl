<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solid Models (3D Geometry) · DeviceLayout.jl</title><meta name="title" content="Solid Models (3D Geometry) · DeviceLayout.jl"/><meta property="og:title" content="Solid Models (3D Geometry) · DeviceLayout.jl"/><meta property="twitter:title" content="Solid Models (3D Geometry) · DeviceLayout.jl"/><meta name="description" content="Documentation for DeviceLayout.jl."/><meta property="og:description" content="Documentation for DeviceLayout.jl."/><meta property="twitter:description" content="Documentation for DeviceLayout.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DeviceLayout.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Geometry-Level Layout</span><ul><li><a class="tocitem" href="../geometrylevel/">Overview</a></li><li><a class="tocitem" href="../units/">Units</a></li><li><a class="tocitem" href="../points/">Points</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../transformations/">Transformations</a></li><li><a class="tocitem" href="../entitystyles/">Entity Styles</a></li><li><a class="tocitem" href="../polygons/">Polygons</a></li><li><a class="tocitem" href="../coordinate_systems/">Coordinate Systems</a></li><li><a class="tocitem" href="../texts/">Texts</a></li><li><a class="tocitem" href="../paths/">Paths</a></li><li><a class="tocitem" href="../routes/">Routes</a></li><li><a class="tocitem" href="../shapes/">Shape library</a></li><li><a class="tocitem" href="../autofill/">Autofill</a></li><li><a class="tocitem" href="../render/">Rendering</a></li><li class="is-active"><a class="tocitem" href>Solid Models (3D Geometry)</a><ul class="internal"><li><a class="tocitem" href="#Physical-groups"><span>Physical groups</span></a></li><li><a class="tocitem" href="#Rendering-to-a-SolidModel"><span>Rendering to a SolidModel</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li></ul></li><li><a class="tocitem" href="../fileio/">File Formats</a></li><li><a class="tocitem" href="../faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Schematic-Driven Layout</span><ul><li><a class="tocitem" href="../schematicdriven/">Overview</a></li><li><a class="tocitem" href="../schematicdriven/components/">Components</a></li><li><a class="tocitem" href="../schematicdriven/hooks/">Hooks</a></li><li><a class="tocitem" href="../schematicdriven/schematics/">Schematics</a></li><li><a class="tocitem" href="../schematicdriven/technologies/">Technologies</a></li><li><a class="tocitem" href="../schematicdriven/targets/">Targets</a></li><li><a class="tocitem" href="../schematicdriven/solidmodels/">Solid Models</a></li><li><a class="tocitem" href="../schematicdriven/pdks/">PDKs</a></li><li><a class="tocitem" href="../schematicdriven/faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/examplepdk/">ExamplePDK</a></li><li><a class="tocitem" href="../examples/qpu17/">Quantum Processor</a></li><li><a class="tocitem" href="../examples/singletransmon/">Single-Transmon Simulation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Geometry-Level Layout</a></li><li class="is-active"><a href>Solid Models (3D Geometry)</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Solid Models (3D Geometry)</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/main/docs/src/solidmodels.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Solid-Models"><a class="docs-heading-anchor" href="#Solid-Models">Solid Models</a><a id="Solid-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Solid-Models" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.SolidModel"><a class="docstring-binding" href="#DeviceLayout.SolidModels.SolidModel"><code>DeviceLayout.SolidModels.SolidModel</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct SolidModel{T} where {T &lt;: SolidModelKernel}
    name::String
    groups::NTuple{4,Dict{String,AbstractPhysicalGroup}}
end
SolidModel(name::String, kernel=OpenCascade; overwrite=false)</code></pre><p>A 3D geometry model.</p><p>Geometry rendering, boolean operations, and export are provided by the specified <code>kernel</code>.</p><p>Physical groups can be accessed by name using indexing with a <code>String</code> or <code>Symbol</code> and a dimension: <code>mymodel[&quot;mygroup&quot;, 3]</code> will return the <code>PhysicalGroup</code> with dimension 3 called <code>mygroup</code>.</p><p>Physical groups can also be assigned as <code>mymodel[&quot;mygroup&quot;] = dimtags</code>, where <code>dimtags</code> is a list of <code>NTuple{2, Int32}</code> of entities identified by <code>(dim, tag)</code> in <code>mymodel</code>. If <code>dimtags</code> includes entities of multiple dimensions, then a group is created for each dimension.</p><p>If the constructor is called with <code>overwrite=false</code> (the default), then an error will be thrown if a model with the same name already exists. If <code>overwrite=true</code>, then any existing model with the same name will be deleted and a new model will be created.</p><p>A <code>SolidModel</code> can be saved to a file with <code>FileIO.save(filename, sm)</code>. Supported filetypes for OpenCASCADE geometries are <code>.brep</code> and <code>.stp</code>. Meshes can be exported as <code>.msh2</code> (compatible with Palace) or <code>.msh</code> (most recent Gmsh format) files. Other filetypes supported by <code>gmsh.write()</code> like <code>.xao</code> can be used with <code>DeviceLayout.save</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L121-L149">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.SolidModelKernel"><a class="docstring-binding" href="#DeviceLayout.SolidModels.SolidModelKernel"><code>DeviceLayout.SolidModels.SolidModelKernel</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">abstract type SolidModelKernel</code></pre><p>Supertype for solid geometry kernels. Subtypes are <code>OpenCascade</code> and <code>GmshNative</code>.</p><p>Note that <code>GmshNative</code> does not support Boolean geometry operations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L97-L103">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.attributes"><a class="docstring-binding" href="#DeviceLayout.SolidModels.attributes"><code>DeviceLayout.SolidModels.attributes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">attributes(sm::SolidModel)</code></pre><p>Given a <code>SolidModel</code> construct a dictionary from physical group name to attribute number for use in specification of a configuration file for use with <em>Palace</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L418-L423">source</a></section></details></article><h2 id="Physical-groups"><a class="docs-heading-anchor" href="#Physical-groups">Physical groups</a><a id="Physical-groups-1"></a><a class="docs-heading-anchor-permalink" href="#Physical-groups" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.PhysicalGroup"><a class="docstring-binding" href="#DeviceLayout.SolidModels.PhysicalGroup"><code>DeviceLayout.SolidModels.PhysicalGroup</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct PhysicalGroup
    name::String
    model::SolidModel
    dim::Int32
    grouptag::Int32
end</code></pre><p>A named group of entities of dimension <code>dim</code> in a <code>SolidModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L200-L209">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.dimtags"><a class="docstring-binding" href="#DeviceLayout.SolidModels.dimtags"><code>DeviceLayout.SolidModels.dimtags</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dimtags(pg::AbstractPhysicalGroup)</code></pre><p>Return the <code>(dimension, integer tag)</code> tuples for <code>SolidModel</code> entities in <code>pg</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L233-L237">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.entitytags"><a class="docstring-binding" href="#DeviceLayout.SolidModels.entitytags"><code>DeviceLayout.SolidModels.entitytags</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">entitytags(pg::AbstractPhysicalGroup)</code></pre><p>Return the integer tags for <code>SolidModel</code> entities in <code>pg</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L221-L225">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.bounds3d"><a class="docstring-binding" href="#DeviceLayout.SolidModels.bounds3d"><code>DeviceLayout.SolidModels.bounds3d</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">bounds3d(group::AbstractPhysicalGroup; delta=0)
bounds3d(dimtags; delta=0)</code></pre><p>Return the rectangular prism defined bounding <code>group</code> or <code>dimtags</code> with an offset of <code>delta</code>.</p><p>Note that OpenCASCADE bounding boxes are not tight, and will typically extend beyond the exact bounding box by 1e-7μm at each face.</p><p>The result is returned as the tuple <code>(xmin, ymin, zmin, xmax, ymax, zmax)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/solidmodels.jl#L345-L355">source</a></section></details></article><h2 id="Rendering-to-a-SolidModel"><a class="docs-heading-anchor" href="#Rendering-to-a-SolidModel">Rendering to a SolidModel</a><a id="Rendering-to-a-SolidModel-1"></a><a class="docs-heading-anchor-permalink" href="#Rendering-to-a-SolidModel" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="DeviceLayout.render!-Tuple{SolidModel, CoordinateSystem}"><a class="docstring-binding" href="#DeviceLayout.render!-Tuple{SolidModel, CoordinateSystem}"><code>DeviceLayout.render!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">render!(sm::SolidModel, cs::AbstractCoordinateSystem{T}; map_meta=layer,
postrender_ops=[], zmap=(_) -&gt; zero(T), gmsh_options = Dict(), skip_postrender = false, kwargs...) where {T}</code></pre><p>Render <code>cs</code> to <code>sm</code>.</p><p><strong>Keywords</strong></p><ul><li><code>map_meta</code>: Function (m::SemanticMeta) -&gt; name of <code>PhysicalGroup</code> (as <code>String</code> or <code>Symbol</code>; may also return <code>nothing</code> to skip rendering <code>m</code>)</li><li><code>postrender_ops</code>: Vector of Tuples <code>(destination, op, args, op_kwargs...)</code> specifying &quot;postrendering&quot; of <code>PhysicalGroup</code>s executed after entities have been rendered to to <code>sm</code>. Each operation <code>op</code> creates a new <code>PhysicalGroup</code> defined as <code>sm[destination] = op(sm, args...; op_kwargs...)</code>. That is, <code>args</code> are the arguments to <code>op</code> (following the first argument, which is always the model <code>sm</code> being rendered to). For most operations, these arguments include the names and dimensions of groups being operated on, and <code>op_kwargs</code> are the keyword arguments passed to <code>op</code>. For example, <code>(&quot;base&quot;, difference_geom!, (&quot;writeable_area&quot;, &quot;base_negative&quot;), :remove_object =&gt; true, :remove_tool =&gt; true)</code> defines a postrendering step that subtracts the <code>PhysicalGroup</code> named <code>&quot;base_negative&quot;</code> from <code>&quot;writeable_area&quot;</code> (by default using dimension 2 for each group) to define a new group called <code>&quot;base&quot;</code>. The keyword pairs <code>:remove_object=&gt;true</code> and <code>:remove_tool=&gt;true</code> mean that the &quot;object&quot; (first argument) group <code>&quot;writeable_area&quot;</code> and the &quot;tool&quot; (second argument) group <code>&quot;base_negative&quot;</code> are both removed when <code>&quot;base&quot;</code> is created.</li><li><code>retained_physical_groups</code>: Vector of <code>(name, dimension)</code> tuples specifying which physical groups to keep after rendering. All other groups are removed.</li><li><code>zmap</code>: Function (m::SemanticMeta) -&gt; <code>z</code> coordinate of corresponding elements. Default: Map all metadata to zero.</li><li><code>gmsh_options</code>: Dictionary of gmsh option name-value pairs to set before meshing.</li><li><code>meshing_parameters</code>: <strong>Deprecated.</strong> Use individual mesh control functions <a href="#DeviceLayout.SolidModels.mesh_scale"><code>DeviceLayout.SolidModels.mesh_scale</code></a>, <a href="#DeviceLayout.SolidModels.mesh_order"><code>DeviceLayout.SolidModels.mesh_order</code></a> and <a href="#DeviceLayout.SolidModels.mesh_grading_default"><code>DeviceLayout.SolidModels.mesh_grading_default</code></a>, along with <code>gmsh_options</code> instead.</li><li><code>skip_postrender</code>: Whether or not to return early without performing any postrendering operations. This can be particularly helpful during debugging, as all two dimensional entities will be placed appropriately but will not have been combined.</li></ul><p>Available postrendering operations include <a href="#DeviceLayout.SolidModels.translate!"><code>translate!</code></a>, <a href="#DeviceLayout.SolidModels.extrude_z!"><code>extrude_z!</code></a>, <a href="#DeviceLayout.SolidModels.revolve!"><code>revolve!</code></a>, <a href="#DeviceLayout.SolidModels.union_geom!"><code>union_geom!</code></a>, <a href="#DeviceLayout.SolidModels.intersect_geom!"><code>intersect_geom!</code></a>, <a href="#DeviceLayout.SolidModels.difference_geom!"><code>difference_geom!</code></a>, <a href="#DeviceLayout.SolidModels.fragment_geom!"><code>fragment_geom!</code></a>, and <a href="#DeviceLayout.SolidModels.box_selection"><code>box_selection</code></a>. (The geometric Boolean operations are only available for models using the OpenCASCADE kernel.)</p><p>Additional keyword arguments are passed to <a href="#DeviceLayout.SolidModels.to_primitives"><code>DeviceLayout.SolidModels.to_primitives</code></a> (which falls back to <a href="../geometry/#DeviceLayout.to_polygons"><code>to_polygons</code></a>) and may be used for certain entity types to control how entities of <code>cs</code> are converted to primitives and added to <code>sm</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L749-L789">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.to_primitives"><a class="docstring-binding" href="#DeviceLayout.SolidModels.to_primitives"><code>DeviceLayout.SolidModels.to_primitives</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">to_primitives(::SolidModel, ent::GeometryEntity; kwargs...)</code></pre><p>Return a <code>GeometryEntity</code> or a vector of entities equivalent to <code>ent</code>.</p><p>Called inside <code>render!</code> before adding entities to the <code>SolidModel</code>. Each resulting entity corresponds to a single entity in that <code>SolidModel</code>&#39;s geometry kernel.</p><p>If there is no special handling for <code>ent</code> in the kernel, then the result will be <code>to_polygons(ent; kwargs...)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L7-L17">source</a></section></details></article><h3 id="Postrendering-operations"><a class="docs-heading-anchor" href="#Postrendering-operations">Postrendering operations</a><a id="Postrendering-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Postrendering-operations" title="Permalink"></a></h3><p>After adding the elements of a <code>CoordinateSystem</code> to a <code>SolidModel</code> (&quot;rendering&quot;), we can perform additional &quot;postrendering&quot; operations including boolean operations, extrusions, and selections, to create new <code>PhysicalGroup</code>s.</p><p>The recommended pattern is to provide all postrendering operations to the <code>postrender_ops</code> keyword argument in <code>render!</code>, because <code>render!</code> performs important cleanup at the very end. Specifically, it removes duplicate elements using the <code>fragment</code> operation; because this can also change the labeling of elements, it then reassigns the resulting elements to their corresponding groups.</p><p>Boolean operations and infix equivalents:</p><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.difference_geom!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.difference_geom!"><code>DeviceLayout.SolidModels.difference_geom!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">difference_geom!(
    object::Union{PhysicalGroup, AbstractArray{PhysicalGroup}},
    tool::Union{PhysicalGroup, AbstractArray{PhysicalGroup}};
    tag=-1,
    remove_object=false,
    remove_tool=false
)</code></pre><p>Create the geometric difference of the groups <code>object</code> and <code>tool</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>If <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>The operator <code>-</code> can be used as a synonymous infix operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L547-L565">source</a></section><section><div><pre><code class="language-julia hljs">difference_geom!(sm::SolidModel, object::Union{String, Symbol}, tool::Union{String, Symbol}, d1=2, d2=2;
    tag=-1,
    remove_object=false,
    remove_tool=false)</code></pre><p>Create the geometric difference of groups with <code>Symbol</code> or <code>String</code> names <code>object, tool</code> in <code>sm</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>The dimensions of the object and tool groups can be specified as <code>d1</code> and <code>d2</code>, respectively. The dimension defaults to 2 (surfaces).</p><p>If the <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>If <code>object</code> is not a physical group in <code>sm</code>, will error and return an empty dimtag array. If <code>tool</code> is not a physical group in <code>sm</code>, will return dimtags of <code>object</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L586-L605">source</a></section><section><div><pre><code class="language-julia hljs">difference_geom!(sm::SolidModel, object, tool, d1=2, d2=2; remove_tool=false,
remove_object=false, kwargs...)</code></pre><p>Create the geometric difference of groups <code>object</code> and <code>tool</code> which can be collections of <code>Union{String, Symbol}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L624-L630">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.fragment_geom!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.fragment_geom!"><code>DeviceLayout.SolidModels.fragment_geom!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fragment_geom!(
    object::Union{PhysicalGroup, AbstractArray{PhysicalGroup}},
    tool::Union{PhysicalGroup, AbstractArray{PhysicalGroup}};
    tag=-1,
    remove_object=false,
    remove_tool=false
)</code></pre><p>Create the Boolean fragments (general fuse) of the groups <code>object</code> and <code>tool</code>, making all interfaces conformal.</p><p>When applied to entities of different dimensions, the lower dimensional entities will be automatically embedded in the higher dimensional entities if they are not on their boundary.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>If <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L687-L707">source</a></section><section><div><pre><code class="language-julia hljs">fragment_geom!(sm::SolidModel, object::Union{String, Symbol}, tool::Union{String, Symbol}, d1=2, d2=2;
    tag=-1,
    remove_object=false,
    remove_tool=false)</code></pre><p>Create the Boolean fragments (general fuse) of groups with <code>Symbol</code> or <code>String</code> names <code>object, tool</code> in <code>sm</code>, making all interfaces conformal.</p><p>When applied to entities of different dimensions, the lower dimensional entities will be automatically embedded in the higher dimensional entities if they are not on their boundary.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>The dimensions of the object and tool groups can be specified as <code>d1</code> and <code>d2</code>, respectively. The dimension defaults to 2 (surfaces).</p><p>If the <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>If only one of <code>object</code> or <code>tool</code> is a physical group in <code>sm</code>, will perform union of physical group with itself, if neither are present will return an empty array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L728-L751">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.intersect_geom!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.intersect_geom!"><code>DeviceLayout.SolidModels.intersect_geom!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">intersect_geom!(
    object::Union{PhysicalGroup, AbstractArray{PhysicalGroup}},
    tool::Union{PhysicalGroup, AbstractArray{PhysicalGroup}};
    tag=-1,
    remove_object=false,
    remove_tool=false
)</code></pre><p>Create the geometric intersection (the common parts) of the groups <code>object</code> and <code>tool</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>If <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>The operators <code>*</code> and <code>∩</code> can be used as synonymous infix operators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L374-L392">source</a></section><section><div><pre><code class="language-julia hljs">intersect_geom!(sm::SolidModel, object::Union{String, Symbol}, tool::Union{String, Symbol}, d1=2, d2=2;
    tag=-1,
    remove_object=false,
    remove_tool=false)</code></pre><p>Create the geometric intersection (the common parts) of groups with <code>Symbol</code> or <code>String</code> names <code>object, tool</code> in <code>sm</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>The dimensions of the object and tool groups can be specified as <code>d1</code> and <code>d2</code>, respectively. The dimension defaults to 2 (surfaces).</p><p>If the <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>If <code>tool</code> or <code>object</code> are not physical groups in <code>sm</code>, will error and return an empty dimtag array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L413-L431">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.union_geom!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.union_geom!"><code>DeviceLayout.SolidModels.union_geom!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">union_geom!(
    object::Union{PhysicalGroup, AbstractArray{PhysicalGroup}},
    tool::Union{PhysicalGroup, AbstractArray{PhysicalGroup}};
    tag=-1,
    remove_object=false,
    remove_tool=false
)</code></pre><p>Create the geometric union (the fusion) of the groups <code>object</code> and <code>tool</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>If <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>The operators <code>+</code> and <code>∪</code> can be used as synonymous infix operators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L216-L234">source</a></section><section><div><pre><code class="language-julia hljs">union_geom!(sm::SolidModel, object::Union{String, Symbol}, tool::Union{String, Symbol}, d1=2, d2=2;
    tag=-1,
    remove_object=false,
    remove_tool=false)</code></pre><p>Create the geometric union of groups with <code>Symbol</code> or <code>String</code> names <code>object, tool</code> in <code>sm</code>.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p><p>The dimensions of the object and tool groups can be specified as <code>d1</code> and <code>d2</code>, respectively. The dimension defaults to 2 (surfaces).</p><p>If <code>tag</code> is positive, try to set the tag explicitly (only valid if the boolean operation results in a single entity). Remove the object if <code>remove_object</code> is set. Remove the tool if <code>remove_tool</code> is set.</p><p>If only one of <code>object</code> or <code>tool</code> is a physical group in <code>sm</code>, will perform union of physical group with itself, if neither are present will return an empty array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L255-L274">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:+-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><a class="docstring-binding" href="#Base.:+-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><code>Base.:+</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">+(object::AbstractPhysicalGroup, tool::AbstractPhysicalGroup)</code></pre><p>Equivalent to <code>union_geom!(object, tool)</code>. Can be used as an infix (<code>object + tool</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L176-L180">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:∪-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><a class="docstring-binding" href="#Base.:∪-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><code>Base.:∪</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">∪(object::AbstractPhysicalGroup, tool::AbstractPhysicalGroup)</code></pre><p>Equivalent to <code>union_geom!(object, tool)</code>. Can be used as an infix (<code>object ∪ tool</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L184-L188">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:--Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><a class="docstring-binding" href="#Base.:--Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><code>Base.:-</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">-(object::AbstractPhysicalGroup, tool::AbstractPhysicalGroup)</code></pre><p>Equivalent to <code>difference_geom!(object, tool)</code>. Can be used as an infix (<code>object - tool</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L192-L196">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:*-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><a class="docstring-binding" href="#Base.:*-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><code>Base.:*</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">*(object::AbstractPhysicalGroup, tool::AbstractPhysicalGroup)</code></pre><p>Equivalent to <code>intersect_geom!(object, tool)</code>. Can be used as an infix (<code>object * tool</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L200-L204">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:∩-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><a class="docstring-binding" href="#Base.:∩-Tuple{DeviceLayout.SolidModels.AbstractPhysicalGroup, DeviceLayout.SolidModels.AbstractPhysicalGroup}"><code>Base.:∩</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">∩(object::AbstractPhysicalGroup, tool::AbstractPhysicalGroup)</code></pre><p>Equivalent to <code>intersect_geom!(object, tool)</code>. Can be used as an infix (<code>object ∩ tool</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L208-L212">source</a></section></details></article><p>Selections:</p><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.box_selection"><a class="docstring-binding" href="#DeviceLayout.SolidModels.box_selection"><code>DeviceLayout.SolidModels.box_selection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">box_selection(x1, y1, z1, x2, y2, z2; dim=-1, delta=zero(x1))
box_selection(::SolidModel, x1, y1, z1, x2, y2, z2; dim=-1, delta=zero(x1))</code></pre><p>Get the model entities in the bounding box defined by the two points (<code>xmin</code>, <code>ymin</code>, <code>zmin</code>) and (<code>xmax</code>, <code>ymax</code>, <code>zmax</code>). If <code>dim</code> is &gt;= 0, return only the entities of the specified dimension (e.g. points if <code>dim</code> == 0).</p><p>Return the selected entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L68-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.get_boundary"><a class="docstring-binding" href="#DeviceLayout.SolidModels.get_boundary"><code>DeviceLayout.SolidModels.get_boundary</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_boundary(group::AbstractPhysicalGroup; combined=true, oriented=true, recursive=false, direction=&quot;all&quot;, position=&quot;all&quot;)
get_boundary(sm::SolidModel, groupname, dim=2; combined=true, oriented=true, recursive=false, direction=&quot;all&quot;, position=&quot;all&quot;)</code></pre><p>Get the boundary of the model entities in <code>group</code>, given as a vector of (dim, tag) tuples.</p><p>Return the boundary of the individual entities (if <code>combined</code> is false) or the boundary of the combined geometrical shape formed by all input entities (if <code>combined</code> is true).</p><p>Return tags multiplied by the sign of the boundary entity if <code>oriented</code> is true.</p><p>Apply the boundary operator recursively down to dimension 0 (i.e. to points) if <code>recursive</code> is true.</p><p>If <code>direction</code> is specified, return only the boundaries perperdicular to the x, y, or z axis. If <code>position</code> is also specified, return only the boundaries at the min or max position along the specified <code>direction</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L832-L848">source</a></section></details></article><p>Other operations:</p><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.extrude_z!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.extrude_z!"><code>DeviceLayout.SolidModels.extrude_z!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">extrude_z!(g::PhysicalGroup, dz; num_elements=[], heights=[], recombine=false)
extrude_z!(sm::SolidModel, groupname, dz, groupdim=2; num_elements=[], heights=[], recombine=false)</code></pre><p>Extrude the entities in <code>g</code> in the <code>z</code> direction by <code>dz</code>.</p><p>If the <code>numElements</code> vector is not empty, also extrude the mesh: the entries in <code>numElements</code> give the number of elements in each layer. If the <code>height</code> vector is not empty, it provides the (cumulative) height of the different layers, normalized to 1. If <code>recombine</code> is set, recombine the mesh in the layers.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L115-L128">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.remove_group!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.remove_group!"><code>DeviceLayout.SolidModels.remove_group!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">remove_group!(sm::SolidModel, group::Union{String, Symbol}, dim; recursive=true, remove_entities=true)
remove_group!(group::AbstractPhysicalGroup; recursive=true, remove_entities=true)</code></pre><p>Remove entities in <code>group</code> from the model, unless they are boundaries of higher-dimensional entities or part of another physical group.</p><p>If <code>recursive</code> is true, remove all entities on their boundaries, down to dimension zero (points).</p><p>Also removes the record of the (now-empty) physical group.</p><p>If <code>remove_entities</code> is false, only removes the record of the group from the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L976-L987">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.restrict_to_volume!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.restrict_to_volume!"><code>DeviceLayout.SolidModels.restrict_to_volume!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">restrict_to_volume(sm::SolidModel, volume)</code></pre><p>Checks if all surfaces and volumes are contained within <code>sm[volume, 3]</code>, and if not performs an intersection operation replacing all entities and groups with their intersection with <code>sm[volume, 3]</code>.</p><p>Embeds entities if they are on the boundary of higher-dimensional entities and removes duplicate entities.</p><p>Preserves the meaning of existing groups by assigning to them the (possibly new) entities corresponding to that group&#39;s intersection with the volume.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L503-L515">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.revolve!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.revolve!"><code>DeviceLayout.SolidModels.revolve!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">revolve!(g::PhysicalGroup, x, y, z, ax, ay, az, θ; num_elements=[], heights=[], recombine=false)
revolve!(sm::SolidModel, groupname, groupdim, x, y, z, ax, ay, az, θ; num_elements=[], heights=[], recombine=false)</code></pre><p>Extrude the entities in <code>g</code> using a rotation of <code>θ</code> radians around the axis of revolution through <code>(x, y, z)</code> in the direction <code>(ax, ay, az)</code>.</p><p>If the <code>numElements</code> vector is not empty, also extrude the mesh: the entries in <code>numElements</code> give the number of elements in each layer. If the <code>height</code> vector is not empty, it provides the (cumulative) height of the different layers, normalized to 1. If <code>recombine</code> is set, recombine the mesh in the layers. When the mesh is extruded the angle should be strictly smaller than 2π.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L148-L163">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.set_periodic!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.set_periodic!"><code>DeviceLayout.SolidModels.set_periodic!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_periodic!(group1::AbstractPhysicalGroup, group2::AbstractPhysicalGroup; dim=2)
set_periodic!(sm, group1, group2, d1=2, d2=2)</code></pre><p>Set the model entities in <code>group1</code> and <code>group2</code> to be periodic. Only supports <code>d1</code> = <code>d2</code> = 2 and surfaces in both groups need to be parallel and axis-aligned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L922-L928">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.translate!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.translate!"><code>DeviceLayout.SolidModels.translate!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">translate!(group, dx, dy, dz; copy=true)
translate!(sm::SolidModel, groupname, dx, dy, dz, groupdim=2; copy=true)</code></pre><p>Translate the entities in physical group <code>group</code> by <code>(dx, dy, dz)</code>.</p><p>If <code>copy=true</code>, then a copy of the entities in <code>group</code> are translated instead.</p><p>Return the resulting entities as a vector of <code>(dimension, entity_tag)</code> <code>Tuple</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/postrender.jl#L86-L95">source</a></section></details></article><h3 id="Meshing"><a class="docs-heading-anchor" href="#Meshing">Meshing</a><a id="Meshing-1"></a><a class="docs-heading-anchor-permalink" href="#Meshing" title="Permalink"></a></h3><p>Entities can carry mesh sizing information with them when rendered to a <code>SolidModel</code>. Many entities will default to a maximal size to reasonably resolve the geometry. This is particularly useful together with adaptive mesh refinement to efficiently refine your mesh to minimize estimated error with as few elements as possible. You can also style entities with <a href="../entitystyles/#DeviceLayout.MeshSized"><code>MeshSized</code></a> to manually control mesh sizing, the <a href="#DeviceLayout.SolidModels.mesh_scale"><code>SolidModels.mesh_scale</code></a>, <a href="#DeviceLayout.SolidModels.mesh_order"><code>SolidModels.mesh_order</code></a> and <a href="#DeviceLayout.SolidModels.mesh_grading_default"><code>SolidModels.mesh_grading_default</code></a> methods are used to modify the global default parameters used in each sizing field (see <a href="../entitystyles/#DeviceLayout.MeshSized"><code>MeshSized</code></a>).</p><p>Size fields within a <code>SolidModel</code> are specified in terms of control points, which are spatial locations combined with an <code>(h, α)</code> as in <a href="../entitystyles/#DeviceLayout.MeshSized"><code>MeshSized</code></a>. When a model is rendered, a set of control points are computed from the geometry, and these are then used to create <code>KDTree</code> structures to allow for rapid evaluation. Additional points can be manually inserted after <code>render!</code> is called using <a href="#DeviceLayout.SolidModels.add_mesh_size_point"><code>DeviceLayout.SolidModels.add_mesh_size_point</code></a>, and the global size parameters <a href="#DeviceLayout.SolidModels.mesh_scale"><code>SolidModels.mesh_scale</code></a>, <a href="#DeviceLayout.SolidModels.mesh_order"><code>SolidModels.mesh_order</code></a> and <a href="#DeviceLayout.SolidModels.mesh_grading_default"><code>SolidModels.mesh_grading_default</code></a> modified without requiring <code>render!</code> to be called again. This allows for iteration on the mesh for a given fixed geometry. Manual modification of the control points is in general not necessary but can be achieved through <a href="#DeviceLayout.SolidModels.add_mesh_size_point"><code>DeviceLayout.SolidModels.add_mesh_size_point</code></a>, <a href="#DeviceLayout.SolidModels.finalize_size_fields!"><code>DeviceLayout.SolidModels.finalize_size_fields!</code></a>, <a href="#DeviceLayout.SolidModels.clear_mesh_control_points!"><code>DeviceLayout.SolidModels.clear_mesh_control_points!</code></a> and <a href="#DeviceLayout.SolidModels.reset_mesh_control!"><code>DeviceLayout.SolidModels.reset_mesh_control!</code></a>. Once an improved mesh has been achieved through addition of custom size fields like this, it is generally suggested to incorporate this information back into the <code>MeshSized</code> style used on the original entities.</p><div class="admonition is-info" id="Info-870b87681d23bc5e"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-870b87681d23bc5e" title="Permalink"></a></header><div class="admonition-body"><p>If <a href="#DeviceLayout.SolidModels.mesh_control_points"><code>SolidModels.mesh_control_points</code></a> is modified, then it is important to call <a href="#DeviceLayout.SolidModels.finalize_size_fields!"><code>SolidModels.finalize_size_fields!</code></a> in order to ensure that the <code>KDTree</code> are rebuilt. Additionally, to generate a new mesh <code>SolidModels.gmsh.model.mesh.clear()</code> must be called otherwise <code>gmsh</code> will return only any previously generated mesh.</p></div></div><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.MeshingParameters"><a class="docstring-binding" href="#DeviceLayout.SolidModels.MeshingParameters"><code>DeviceLayout.SolidModels.MeshingParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Base.@kwdef struct MeshingParameters
    mesh_scale::Float64 = 1.0
    mesh_order::Int = 1
    α_default::Float64 = 0.75
    apply_size_to_surfaces::Bool = false
    high_order_optimize::Int = 1
    surface_mesh_algorithm::Int = 6
    volume_mesh_algorithm::Int = 1
    options::Dict{String, Float64} = Dict{String, Float64}()
end</code></pre><p>α</p><div class="admonition is-warning" id="Deprecated-451394631c7e6cdb"><header class="admonition-header">Deprecated<a class="admonition-anchor" href="#Deprecated-451394631c7e6cdb" title="Permalink"></a></header><div class="admonition-body"><p>This struct is deprecated. See <a href="../render/#DeviceLayout.render!"><code>render!</code></a></p></div></div><p>MeshingParameters contains high level parameters to specify mesh sizing fields throughout the domain.</p><ul><li><code>mesh_scale</code> applies multiplicatively to the smallest size specified by any size field function, comparing to the formula in the <code>MeshSized</code> style, this results in all mesh size fields being rescaled where <code>h</code> ← <code>mesh_scale</code> * <code>h</code>.</li><li><code>mesh_order</code> specifies the order of polynomials to use in representing the geometry, this is important if curved geometric features are present, <code>mesh_order == 1</code> will represent the geometry with linear polynomials, whilst <code>mesh_order == 2</code> will represent it with quadratic polynomials, and <code>mesh_order == 3</code> with cubic polynomials. Increasing the value of <code>mesh_order</code> results in greater geometric fidelity, whilst making meshing more difficult (and prone to errors).</li><li><code>α_default</code> specifies the default value of <code>α</code> to use for <code>MeshSized</code> entities where <code>α</code> is set to less than 0, <code>α_default ∈ (0, 1]</code> is particularly used for the default grading of <code>Path</code> entities. A value closer to 1 can result in an unstable meshing algorithm in gmsh, particularly for complex geometries.</li><li><code>apply_size_to_surfaces=true</code> will cause the mesh sizing field to specify the size within any sized entities, as opposed to only along the perimeter of the entity if <code>apply_size_to_surfaces=false</code>. Setting <code>apply_size_to_surfaces=true</code> will result in a larger number of elements.</li><li><code>high_order_optimize=0</code> flag to pass to gmsh if optimization of a higher order mesh is to be performed. (0: none, 1: optimization, 2: elastic+optimization, 3: elastic, 4: fast curving). Refer to the gmsh documentation for more details.</li><li><code>surface_mesh_algorithm</code> specifies the algorithm gmsh should use when performing the surface mesh generation. Refer to the gmsh documentation for more details.</li><li><code>volume_mesh_algorithm</code> specifies the algorithm gmsh should use when performing the volume mesh generation. Refer to the gmsh documentation for more details.</li><li><code>options</code> used to specify any additional options provided to gmsh, which will be set with <code>gmsh.options.set_number(key, value)</code> for each <code>key =&gt; value</code> pair. Refer to the gmsh documentation for a list of available options. Will override any other options as is called last.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L688-L737">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.mesh_order"><a class="docstring-binding" href="#DeviceLayout.SolidModels.mesh_order"><code>DeviceLayout.SolidModels.mesh_order</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mesh_order()
mesh_order(order, higher_order_optimize=1)</code></pre><p>Get or set the mesh element order and optimization level.</p><p>Higher order elements provide better geometric fidelity for curved boundaries but increase meshing complexity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L535-L542">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.mesh_scale"><a class="docstring-binding" href="#DeviceLayout.SolidModels.mesh_scale"><code>DeviceLayout.SolidModels.mesh_scale</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mesh_scale()
mesh_scale(s)</code></pre><p>Get or set the global mesh scaling factor.</p><p>The mesh scale adjusts the minimum for all size fields, from <code>h</code> adjacent to a sized entity, to <code>mesh_scale * h</code>. It does not reduce the size in the far field, and is most appropriate for refining geometric features such as curves, which might require additional local refinement to capture the geometry, but do not require refinement non-locally.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for more details and the explicit mesh sizing formula.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L519-L531">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.mesh_grading_default"><a class="docstring-binding" href="#DeviceLayout.SolidModels.mesh_grading_default"><code>DeviceLayout.SolidModels.mesh_grading_default</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mesh_grading_default()
mesh_grading_default(α)</code></pre><p>Get or set the default mesh grading parameter.</p><p>Controls how rapidly mesh size changes with distance from control points. Must satisfy 0 &lt; α ≤ 1.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for more details and the explicit mesh sizing formula.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L550-L560">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.set_gmsh_option"><a class="docstring-binding" href="#DeviceLayout.SolidModels.set_gmsh_option"><code>DeviceLayout.SolidModels.set_gmsh_option</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_gmsh_option(s, o::Number)
set_gmsh_option(s, o::AbstractString)
set_gmsh_option(s, d::Dict, default)
set_gmsh_option(d::Dict)</code></pre><p>Set gmsh configuration options.</p><p><strong>Methods</strong></p><ul><li><code>set_gmsh_option(option_name, value)</code>: Set a single option to a numeric or string value</li><li><code>set_gmsh_option(option_name, dict, default)</code>: Set option from dict with fallback to default</li><li><code>set_gmsh_option(option_name, dict)</code>: Set option from dict if <code>option_name</code> is present</li><li><code>set_gmsh_option(dict)</code>: Set multiple options from a dictionary</li></ul><p><strong>Arguments</strong></p><ul><li><code>s</code>: Option name as string (e.g., &quot;Mesh.Algorithm&quot;, &quot;General.NumThreads&quot;)</li><li><code>o</code>: Option value (Number or String)</li><li><code>d</code>: Dictionary containing option name-value pairs</li><li><code>default</code>: Default value if option not found in dictionary</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">set_gmsh_option(&quot;Mesh.Algorithm&quot;, 6)
set_gmsh_option(&quot;General.FileName&quot;, &quot;output.msh&quot;)
set_gmsh_option(&quot;General.FileName&quot;, Dict(&quot;Mesh.Algorithm&quot; =&gt; 6)) # does nothing
set_gmsh_option(Dict(&quot;Mesh.Algorithm&quot; =&gt; 6, &quot;General.NumThreads&quot; =&gt; 4))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L448-L478">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.get_gmsh_number"><a class="docstring-binding" href="#DeviceLayout.SolidModels.get_gmsh_number"><code>DeviceLayout.SolidModels.get_gmsh_number</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_gmsh_number(s)</code></pre><p>Get a numeric option value from gmsh.</p><p><strong>Arguments</strong></p><ul><li><code>s</code>: Option name as string (e.g., &quot;Mesh.ElementOrder&quot;)</li></ul><p>Returns the current numeric value of the specified gmsh option.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L493-L503">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.get_gmsh_string"><a class="docstring-binding" href="#DeviceLayout.SolidModels.get_gmsh_string"><code>DeviceLayout.SolidModels.get_gmsh_string</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_gmsh_string(s)</code></pre><p>Get a string option value from gmsh.</p><p><strong>Arguments</strong></p><ul><li><code>s</code>: Option name as string (e.g., &quot;General.FileName&quot;)</li></ul><p>Returns the current string value of the specified gmsh option.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L506-L516">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.mesh_control_points"><a class="docstring-binding" href="#DeviceLayout.SolidModels.mesh_control_points"><code>DeviceLayout.SolidModels.mesh_control_points</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mesh_control_points()</code></pre><p>Get the dictionary of mesh size control points grouped by <code>(h, α)</code> parameters.</p><p>Returns a <code>Dict{Tuple{Float64, Float64}, Vector{SVector{3, Float64}}}</code> where keys are <code>(mesh_size, grading_parameter)</code> tuples and values are vectors of 3D points.</p><p>If this dictionary is modified, by erasing points or adding points using <a href="#DeviceLayout.SolidModels.add_mesh_size_point"><code>add_mesh_size_point</code></a>, then it is necessary to call <a href="#DeviceLayout.SolidModels.finalize_size_fields!"><code>finalize_size_fields!</code></a> to rebuild the KDTree from the data, else any resulting mesh will not reflect the change in data.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details and the explicit mesh sizing formula utilizing the control points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L628-L643">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.mesh_control_trees"><a class="docstring-binding" href="#DeviceLayout.SolidModels.mesh_control_trees"><code>DeviceLayout.SolidModels.mesh_control_trees</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mesh_control_trees()</code></pre><p>Get the dictionary of KDTrees for efficient spatial queries of mesh size control points.</p><p>Returns a <code>Dict{Tuple{Float64, Float64}, KDTree}</code> where keys are <code>(mesh_size, grading_parameter)</code> tuples and values are KDTrees for fast nearest-neighbor lookups.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details and the explicit mesh sizing formula computed using the control trees.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L647-L657">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.add_mesh_size_point"><a class="docstring-binding" href="#DeviceLayout.SolidModels.add_mesh_size_point"><code>DeviceLayout.SolidModels.add_mesh_size_point</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_mesh_size_point(; h, α=-1, p)</code></pre><p>Add a mesh size control point to the global mesh sizing parameters.</p><p><strong>Arguments</strong></p><ul><li><code>p</code>: 3D point coordinates where mesh size is controlled. Can be a single point, or array of concatenated points [x1,y1,z1,x2,y2,z2,...].</li><li><code>h</code>: Target mesh size at the point</li><li><code>α</code>: Mesh grading parameter (α ≤ 1). If negative the default global value will be used when the size trees are regenerated. All negative values are mapped together for efficient KDTree calculations.</li></ul><p>The point is added to a collection grouped by <code>(h, α)</code> values for efficient mesh size field computation. This is a <em>manual override</em> that occurs in addition to those control points generated by a geometry, in general mesh size points should be encoded directly within component definitions but manual additional points can be helpful in prototyping.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details and the explicit mesh sizing formula.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L569-L589">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.finalize_size_fields!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.finalize_size_fields!"><code>DeviceLayout.SolidModels.finalize_size_fields!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">finalize_size_fields!()</code></pre><p>Rebuild KDTree data structures for mesh size field computation.</p><p>Must be called after manually adding mesh size points with <a href="#DeviceLayout.SolidModels.add_mesh_size_point"><code>add_mesh_size_point</code></a> to enable efficient spatial queries during meshing. Creates KDTrees grouped by <code>(h, α)</code> parameters for fast nearest-neighbor lookups.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details and the explicit mesh sizing formula.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L597-L607">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.clear_mesh_control_points!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.clear_mesh_control_points!"><code>DeviceLayout.SolidModels.clear_mesh_control_points!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">clear_mesh_control_points!()</code></pre><p>Clear all mesh size control points and associated KDTrees.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details on how points are used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L663-L669">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DeviceLayout.SolidModels.reset_mesh_control!"><a class="docstring-binding" href="#DeviceLayout.SolidModels.reset_mesh_control!"><code>DeviceLayout.SolidModels.reset_mesh_control!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">reset_mesh_control!()</code></pre><p>Reset the mesh scaling and grading to the original defaults: <code>(s_g, α) ← (1.0, 0.75)</code>.</p><p>See <a href="../entitystyles/#DeviceLayout.MeshSized"><code>DeviceLayout.MeshSized</code></a> for details and the explicit mesh sizing formula.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/b3c22dcfbe59c501fd40b1121fa47c9a9d397be9/src/solidmodels/render.jl#L675-L681">source</a></section></details></article><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>Below, we create a 3D model of a meandered CPW on a chip, restricting the model to a small volume (for example, for the purposes of simulation).</p><pre><code class="language-julia hljs">using DeviceLayout
using FileIO

cs = CoordinateSystem(&quot;test&quot;, nm)

# Create a CPW meander
pa = Path(-0.5mm, 0nm)
straight!(pa, 900μm, Paths.SimpleCPW(10μm, 6μm))
turn!(pa, 180°, 50μm)
straight!(pa, 900μm)
turn!(pa, -180°, 50μm)
straight!(pa, 900μm)
turn!(pa, 180°, 50μm)
straight!(pa, 900μm)
terminate!(pa)
render!(cs, pa, SemanticMeta(:base_negative))

render!(cs, centered(Rectangle(10mm, 10mm)), SemanticMeta(:chip_area))
render!(cs, centered(Rectangle(9mm, 9mm)), SemanticMeta(:writeable_area))
render!(cs, centered(Rectangle(2mm, 2mm)), SemanticMeta(:simulated_area))

# Define z heights and thickness (where nonzero)
layer_z = Dict(:chip_area =&gt; -525μm, :simulated_area =&gt; -1mm)
layer_thickness = Dict(:chip_area =&gt; 525μm, :simulated_area =&gt; 2mm)

# Define postrendering operations:
# Extrusions, geometric Boolean operations, and other transformations
postrender_ops = vcat(
    [   # Extrude layers with nonzero thickness
        (string(layer) * &quot;_extrusion&quot;, SolidModels.extrude_z!, (layer, thickness)) for
        (layer, thickness) in pairs(layer_thickness)
    ],
    [   # sm[&quot;chip_sim&quot;] = intersect_geom!(sm, &quot;simulated_area_extrusion&quot;, ...)
        (   # Intersect chip volume with simulation volume
            &quot;chip_sim&quot;, # New physical group name
            SolidModels.intersect_geom!, # Operation
            # Arguments: Object, tool, object dimension, tool dimension
            (&quot;simulated_area_extrusion&quot;, &quot;chip_area_extrusion&quot;, 3, 3), # Vol ∩ Vol
            # Keyword arguments
            :remove_tool =&gt; true # Remove the &quot;chip_area_extrusion&quot; group
        ),
        (   # Intersect writeable area with simulation volume
            &quot;writeable_sim&quot;,
            SolidModels.intersect_geom!,
            (&quot;simulated_area_extrusion&quot;, &quot;writeable_area&quot;, 3, 2), # Volume ∩ Area
            :remove_tool =&gt; true # Remove &quot;writeable_area&quot; group
        ),
        (   # Create group for non-chip volumes (vacuum)
            &quot;vac_sim&quot;,
            SolidModels.difference_geom!, # Subtract &quot;tool&quot; from &quot;object&quot;
            (&quot;simulated_area_extrusion&quot;, &quot;chip_sim&quot;, 3, 3),
            :remove_object =&gt; true # Remove &quot;simulated_area_extrusion&quot; group
        ),
        (   # Subtract negative from writeable area to get metal area
            &quot;base_metal&quot;,
            SolidModels.difference_geom!,
            (&quot;writeable_sim&quot;, &quot;base_negative&quot;), # Uses default dimension 2
            :remove_object =&gt; true # Remove &quot;writeable_sim&quot; group
        )
    ]
)

sm = SolidModel(&quot;model&quot;; overwrite=true)
SolidModels.render!(
    sm,
    cs,
    zmap=(m) -&gt; get(layer_z, layer(m), 0μm),
    postrender_ops=postrender_ops
)
SolidModels.gmsh.model.mesh.generate() # Generate default mesh (low quality)
save(&quot;model.msh2&quot;, sm) # Use older MSH v2 format (Gmsh format compatible with Palace)
# save(&quot;model.stp&quot;, sm) # Use standard STEP format
SolidModels.gmsh.finalize() # Finalize the Gmsh API when done using Gmsh</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../render/">« Rendering</a><a class="docs-footer-nextpage" href="../fileio/">File Formats »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 13 February 2026 13:43">Friday 13 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
